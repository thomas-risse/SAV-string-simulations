var M=new Function("try {return this===window;}catch(e){ return false;}");function P(){return M()?"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0:!1}function E(e){return new Promise(r=>setTimeout(r,e))}function j(e){return new Promise(r=>setTimeout(r,e*1e3))}var F=globalThis.performance&&globalThis.performance.now,A=F?performance.now():Date.now();globalThis.crossOriginIsolated||console.warn(`[@ircam/sc-gettime] Your page is not Cross Origin Isolated. The accuracy of the clock may be reduced by the User-Agent to prevent finger-printing
(see: https://web.dev/coop-coep/ for more informations)`);function O(){return F?(performance.now()-A)*.001:(Date.now()-A)*.001}function I(){return O()}function R(e){return Object.prototype.toString.call(e)=="[object Function]"||Object.prototype.toString.call(e)=="[object AsyncFunction]"}function q(e){return Number(e)===e}function y(e){if(typeof e!="object"||e===null)return!1;let r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function B(e){return y(e)}function D(e){return typeof e=="string"||e instanceof String}function w(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function k(e){try{return new URL(e),!0}catch{return!1}}function x(e){if(!w(e)&&!Array.isArray(e))return!1;for(let r=0;r<e.length;r++)if(!Number.isFinite(e[r]))return!1;return!0}function g(e){return 8.685889638065035*Math.log(e)}function L(e){return g(g)}function U(e){return 4.3429448190325175*Math.log(e)}function T(e){return Math.exp(.11512925464970229*e)}function G(e){return T(e)}function _(e){return Math.exp(.23025850929940458*e)}function X(e){return 12*(Math.log(e/220)/Math.log(2))+57}function H(e){return 440*Math.pow(2,(e-69)/12)}function V(e,{sampleRate:r=2}={}){return e*2/r}function Y(e,{sampleRate:r=2}={}){return e*r*.5}function J(e,r,t,o,n=!1){let i=(o-t)/(r-e),c=t-i*e;if(n){let a=Math.max(t,o),f=Math.min(t,o);return l=>{let p=i*l+c;return Math.max(f,Math.min(a,p))}}else return a=>i*a+c}function K(e,r,t,o,n=2,i=!1){n=Math.max(0,n);let c=r-e,a=o-t,f=Math.min(e,r),l=Math.max(e,r),p=Math.log(n);return m=>{if(c===0||a===0)return m<=f?t:o;let b=i?Math.max(f,Math.min(l,m)):m;return t+a*(Math.exp(p*(b-e)/c)-1)/(n-1)}}function Q(e,r,t,o,n=2,i=!1){n=Math.max(0,n);let c=r-e,a=o-t,f=Math.min(e,r),l=Math.max(e,r),p=Math.log(n);return m=>{if(c===0||a===0)return m<=f?t:o;let b=i?Math.max(f,Math.min(l,m)):m;return t+a*Math.log((n-1)*(b-e)/c+1)/p}}function W(e){if(!x(e))throw new TypeError("Cannot create 'normalizedToTableScale': given transfert table is not a sequence of finite numbers");if(e.length<2)throw new DOMExpection("Cannot create 'normalizedToTableScale': given transfert table length must be greater than or equal to 2","IndexSizeError");return r=>{if(!Number.isFinite(r))throw new TypeError("Cannot execute 'normalizedToTableScale' scale function: given value is non-finite");r=Math.min(1,Math.max(0,r));let t=r*(e.length-1),o=e[Math.floor(t)],n=e[Math.ceil(t)],i=t-Math.floor(t);return o+(n-o)*i}}function Z(e){if(!x(e))throw new TypeError("Cannot create 'tableToNormalizedScale': given transfert table is not a sequence of finite numbers");if(e.length<2)throw new DOMExpection("Cannot create 'tableToNormalizedScale': given transfert table length must be greater than or equal to 2","IndexSizeError");let r=e[0],t=e[e.length-1];return o=>{if(!Number.isFinite(o))throw new TypeError("Cannot execute 'tableToNormalizedScale' scale function: given value is non-finite");o=Math.min(t,Math.max(r,o));let n;for(let i=0;i<e.length-1;i++){let c=e[i],a=e[i+1];if(o>=c&&o<=a){let f=(o-c)/(a-c);n=(i+f)/(e.length-1);break}}return n}}function*$(){for(let e=0;;e++)e===Number.MAX_SAFE_INTEGER&&(e=0),yield e}function S(e,r){return r===void 0&&(r=15),+parseFloat(Number(e).toPrecision(r))}function s(e){var r=e.toString().split(/[eE]/),t=(r[0].split(".")[1]||"").length-+(r[1]||0);return t>0?t:0}function h(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var r=s(e);return r>0?S(Number(e)*Math.pow(10,r)):Number(e)}function N(e){v&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function d(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var o=r[0],n=r.slice(1);return n.reduce(function(i,c){return e(i,c)},o)}}var u=d(function(e,r){var t=h(e),o=h(r),n=s(e)+s(r),i=t*o;return N(i),i/Math.pow(10,n)}),ee=d(function(e,r){var t=Math.pow(10,Math.max(s(e),s(r)));return(u(e,t)+u(r,t))/t}),re=d(function(e,r){var t=Math.pow(10,Math.max(s(e),s(r)));return(u(e,t)-u(r,t))/t}),z=d(function(e,r){var t=h(e),o=h(r);return N(t),N(o),u(t/o,S(Math.pow(10,s(r)-s(e))))});function te(e,r){var t=Math.pow(10,r),o=z(Math.round(Math.abs(u(e,t))),t);return e<0&&o!==0&&(o=u(o,-1)),o}var v=!0;function oe(e){e===void 0&&(e=!0),v=e}var ne={strip:S,plus:ee,minus:re,times:u,divide:z,round:te,digitLength:s,float2Fixed:h,enableBoundaryChecking:oe};var C=ne;function ie(e=0,r=Number.MAX_SAFE_INTEGER,t=1){if(t===0){function*a(){for(;;)yield e}let f=a();return()=>f.next().value}let o=t>0?Math.min(e,r):Math.max(e,r),n=t>0?Math.max(e,r):Math.min(e,r);function*i(){for(let a=o;;a=C.plus(a,t))(t>0&&a>n||t<0&&a<n)&&(a=o),yield a}let c=i();return()=>c.next().value}export{g as atodb,ie as counter,T as dbtoa,G as decibelToLinear,_ as decibelToPower,E as delay,K as exponentialScale,X as ftom,I as getTime,V as hertzToNormalised,$ as idGenerator,M as isBrowser,R as isFunction,q as isNumber,B as isPlainObject,x as isSequence,D as isString,P as isTouchDevice,w as isTypedArray,k as isURL,J as linearScale,L as linearToDecibel,Q as logarithmicScale,H as mtof,Y as normalisedToHertz,W as normalizedToTableScale,U as powerToDecibel,j as sleep,Z as tableToNormalizedScale};
